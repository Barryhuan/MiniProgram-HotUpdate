{"version":3,"file":"index.js","mappings":";;;;;;;;AAAA;AACA;AACA;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;AAAA;;AAEA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AArFA;;AAgGA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AALA;AAOA;AACA;AACA;AADA;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AAHA;AAKA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;;AAGA;AACA;AACA;AAEA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AAGA;AAEA;AADA;AAGA;AAEA;AADA;AAGA;AAEA;AADA;AAGA;AACA;AACA;AACA;AAEA;AADA;AAGA;AAEA;AADA;AAGA;AAEA;AADA;AAGA;AAEA;AADA;AAGA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAEA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AAKA;AADA;AAKA;AADA;AAKA;AADA;AAGA;AACA;AACA;AACA;AAEA;AADA;AAKA;AADA;AAKA;AADA;AAKA;AADA;AAGA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;AAGA;;AAEA;AACA;AACA;AAEA;AADA;AAGA;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAEA;AADA;AAGA;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAUA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAUA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAUA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAUA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AADA;AAGA;AACA;;AAEA;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAIA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAMA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAMA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAUA;AAEA;AACA;AAEA;AACA;AAGA;AACA;;AAEA;;AAGA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AADA;AAGA;;AAEA;AAAA;AACA;AACA;AAMA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAMA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AAEA;AADA;AAGA;;AAEA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AAEA;AADA;;AAIA;;AAEA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;;AAEA;;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;;AAGA;AACA;AADA;AAGA;AACA;AACA;;AAEA;AACA;AACA;AAEA;AADA;AAGA;AAEA;AADA;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;;AAGA;AACA;;AAh/BA;AAs/BA;AACA","sources":["webpack://test/./dist/index.js"],"sourcesContent":["function runCode(){\n        //index.js\r\n//获取应用实例\r\n\r\n  \n      \n      var Page = function(page){\n        return page\n      }\n    return Page({\n      \n      onReady: function (options) {\n        this.setdata({})\n      },\n      \n      parseTag(tag) {\n        let res = {\n            type1: \"tag\",\n            name: \"\",\n            voidElement: false,\n            // attrs: {},\n            children: [],\n        };\n        let tagMatch = tag.match(/<\\/?([^\\s]+?)[/\\s>]/);\n        if (tagMatch) {\n            // 标签名称为正则匹配的第2项\n            res.type1 = tagMatch[1];\n            if (tag.charAt(tag.length - 2) === \"/\") {\n                // 判断tag字符串倒数第二项是不是 / 设置为空标签。 例子：<img/>\n                res.voidElement = true;\n            }\n        }\n        // 匹配所有的标签正则\n        let classList = tag.match(/\\s([^'\"/\\s><]+?)\\s*?=\\s*?(\".*?\"|'.*?')/g);\n      \n        if (classList) {\n          let style = ''\n            for (let i = 0; i < classList.length; i++) {\n                // 去空格再以= 分隔字符串  得到['属性名称','属性值']\n       \n                let c = classList[i].split(\"=\");\n                // c[1] = c[1].replace(/\\s*/g, \"\")\n                c[0] = c[0].replace(/\\s*/g, \"\")\n                // 循环设置属性\n                let p = c[1].substring(1, c[1].length - 1)\n                try{\n                  p = JSON.parse(c[1].substring(1, c[1].length - 1))\n                }catch(e){\n                 \n                }\n      \n                if (c[1]) {\n                  if(c[0] === 'style'){\n                    style += p\n                    res[c[0]] = style\n                  }else{\n                    res[c[0]] = p\n                  }\n          \n                };\n      \n            }\n        }\n        return res;\n      },\n      \n      parse(html) {\n        var that = this;\n        let result = [];\n        let current;\n        let level = -1;\n        let arr = [];\n        let tagRE = /<[a-zA-Z\\-\\!\\/](?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])*>/g;\n        html.replace(tagRE, function (tag, index) {\n            // 判断第二个字符是不是'/'来判断是否open\n            let isOpen = tag.charAt(1) !== \"/\";\n            // 获取标签末尾的索引\n            let start = index + tag.length;\n            // 标签之前的文本信息\n            let text = html.slice(start, html.indexOf(\"<\", start));\n      \n            let parent;\n            if (isOpen) {\n                level++;\n                // 设置标签属性\n                current = that.parseTag(tag);\n                // 判断是否为文本信息，是就push一个text children  不等于'  '\n                if (!current.voidElement && text.trim()) {\n                    current[\"text\"] = text\n                }\n                // 如果我们是根用户，则推送新的基本节点\n                if (level === 0) {\n                    result.push(current);\n                }\n                // 判断有没有上层，有就push当前标签\n                parent = arr[level - 1];\n                if (parent) {\n                    parent.children.push(current);\n                }\n                // console.log(current)\n                arr[level] = current;\n            }\n            // 如果不是开标签，或者是空元素：</div><img>\n            if (!isOpen || current.voidElement) {\n                // level--\n                level--;\n            }\n        });\n        // console.log(result)\n        return result;\n      \n      },\n    setdata: function setdata(dictData) {\n \n      this.setData(dictData);\n      var html = `<view class=\"all\"><view class=\"head\">  <view class=\"total\">    <label>总分：</label>    <text      style=\"color:rgb(${this.data.total<50?(200+this.data.total):(250-21*(this.data.total-50))},${this.data.total<50?(this.data.total*4+40):(240+this.data.total)},40)\">${this.data.total}</text>  </view>  <view class=\"sex\">    <label>女</label>    <switch type=\"switch\" bindchange=\"Setsex\" checked=\"true\"></switch>    <label>男</label>   </view></view><view class=\"grade\">  <button id=\"1\" class=\"${this.data.grade==1?\"garde2\":\"garde1\"}\" bindtap=\"gradeClick\">大一</button>  <button id=\"2\" class=\"${this.data.grade==2?\"garde2\":\"garde1\"}\" bindtap=\"gradeClick\">大二</button>  <button id=\"3\" class=\"${this.data.grade==3?\"garde2\":\"garde1\"}\" bindtap=\"gradeClick\">大三</button>  <button id=\"4\" class=\"${this.data.grade==4?\"garde2\":\"garde1\"}\" bindtap=\"gradeClick\">大四</button></view>${this.data.block.map((item, index) =>  ` <view wx:for=\"${this.data.block}\" wx:key=\"index\">  <view class=\"block\">    <label class=\"block_label\" bindtap=\"tips\" id=\"${item.score}\" data-power=\"${item.power}\"      data-label=\"${item.label}\">${item.label}：</label>    <view class=\"block_middle\">      <input value=\"${this.data[item.input]}\" class=\"block_middle_input\" bindinput=\"${item.input}\" type=\"digit\"></input>      <text class=\"unit\">${item.unit}</text>    </view>    <view class=\"score\">      <text hidden=\"${!(this.data.score[item.score]!=\"\"&&this.data.score[item.score]!=0)}\">${this.data.score[item.score]+\" 分\"}</text>    </view>  </view></view>`)}<view class=\"block\" id=\"longrun\">  <label class=\"block_label\" bindtap=\"tips\" id=\"longrun\" data-power=\"0.2\"    data-label=\"${this.data.sex?\"1000m\":\"800m\"}\">${this.data.sex?\"1000m\":\"800m\"}：</label>  <view class=\"block_middle\">    <input class=\"block_middle_input\" style=\"width:25%;\" placeholder=\"分\" bindinput=\"min\" type=\"number\"></input>    <text  class=\"unit\" style=\"width:10%;\">\"</text>    <input style=\"width:25%;\" placeholder=\" 秒\" bindinput=\"second\" type=\"number\"></input>    <text class=\"unit\" style=\"width:10%;\">\"</text>  </view>  <view class=\"score\">    <text hidden=\"${!(this.data.score.longrun!=\"\"&&this.data.score.longrun!=0)}\">${this.data.score.longrun+\" 分\"}</text>  </view></view><view class=\"last\">  <navigator class=\"last_navigator\" url=\"./tcdetail?sex=${this.data.sex}\">国家学生体质健康标准</navigator></view></view>`\n      this.setData({html : this.parse(html)});\n    },\n      \r\n  data: {\r\n    grade: '',       //年级\r\n    sex: true,      //性别    男:true  女:false\r\n    tall: 0,        //身高\r\n    weight: 0,      //体重\r\n    volume: 0,      //肺活量\r\n    jump: 0,        //跳远\r\n    handlong: 0,    //坐位体前屈\r\n    ishandlong: false,  //是否已填写\r\n    shortrun: 0,    //50m\r\n    longrun: 0,     //800、1000m\r\n    min: 0,\r\n    second: 0,\r\n    sit_up: 0,      //仰卧起坐\r\n    pull_up: 0,     //引体向上\r\n    score: {\r\n      fat: 0,          //体脂\r\n      tall: 0,        //身高\r\n      weight: 0,      //体重\r\n      volume: 0,      //肺活量\r\n      jump: 0,        //跳远\r\n      handlong: 0,    //坐位体前屈\r\n      shortrun: 0,    //50m\r\n      longrun: 0,     //800、1000m\r\n      sit_up: 0,      //仰卧起坐\r\n      pull_up: 0,     //引体向上\r\n    },\r\n    total: 0,\r\n    block:[\r\n      {\r\n        label:\"身高\",\r\n        input:\"tall\",\r\n        unit:\"cm\",\r\n        score:\"tall\",\r\n        sex:2,\r\n        power:0.15\r\n      },\r\n      {\r\n        label:\"体重\",\r\n        input:\"weight\",\r\n        unit:\"kg\",\r\n        score:\"fat\",\r\n        sex:2,\r\n        power:0.15\r\n      },\r\n      {\r\n        label:\"肺活量\",\r\n        input:\"volume\",\r\n        unit:\"ml\",\r\n        score:\"volume\",\r\n        sex:2,\r\n        power:0.15\r\n      },\r\n      {\r\n        label:\"立定跳远\",\r\n        input:\"jump\",\r\n        unit:\"cm\",\r\n        score:\"jump\",\r\n        sex:2,\r\n        power:0.1\r\n      },\r\n      {\r\n        label:\"坐位体前屈\",\r\n        input:\"handlong\",\r\n        unit:\"cm\",\r\n        score:\"handlong\",\r\n        sex:2,\r\n        power:0.1\r\n      },\r\n      {\r\n        label:\"引体向上\",\r\n        input:\"pull_up\",\r\n        unit:\"个\",\r\n        score:\"pull_up\",\r\n        sex: true,\r\n        power:0.1\r\n      },\r\n      {\r\n        label:\"仰卧起坐\",\r\n        input:\"sit_up\",\r\n        unit:\"个\",\r\n        score:\"sit_up\",\r\n        sex: false,\r\n        power:0.1\r\n      },\r\n      {\r\n        label:\"50m\",\r\n        input:\"shortrun\",\r\n        unit:'\"',\r\n        score:\"shortrun\",\r\n        sex: 2,\r\n        power:0.2\r\n      }\r\n    ]\r\n  },\r\n\r\n  onLoad: function (e) {\r\n    var that = this\r\n    wx.getSystemInfo({\r\n      success: function (res) {\r\n        that.setdata({\r\n          elementStyle: 'width:' + res.windowWidth + 'px;' + 'min-height:' + res.windowHeight + 'px;'\r\n        })\r\n      },\r\n    })\r\n    wx.setStorageSync('state', \"onload\")\r\n    this.gradeClick({\r\n      target:{ id:1 }\r\n    })\r\n    wx.removeStorageSync('state')\r\n  },\r\n\r\n  tips(e){\r\n    var id = e.target.id\r\n    var text;\r\n    if(id == \"tall\" || id == \"fat\")\r\n      text = \"体脂权重为：\" + e.target.dataset.power\r\n    else \r\n      text = e.target.dataset.label + \"\" + \"权重为：\" + e.target.dataset.power\r\n\r\n    wx.showToast({\r\n      title: text,\r\n      icon: \"none\",\r\n      duration: 2000\r\n    })\r\n  },\r\n\r\n  /* 性别 */\r\n  Setsex: function (e) {\r\n    if (e.detail.value) {\r\n      this.setdata({\r\n        sex: e.detail.value,    //男：true 女：false\r\n        min: 0,\r\n        second: 0,\r\n        longrun: 0,\r\n        \"score.longrun\": 0,\r\n        sit_up: 0\r\n\r\n      })\r\n    }\r\n    if (!e.detail.value) {\r\n      this.setdata({\r\n        sex: e.detail.value,    //男：true 女：false\r\n        min: 0,\r\n        second: 0,\r\n        longrun: 0,\r\n        \"score.longrun\": 0,\r\n        pull_up: 0,\r\n      })\r\n    }\r\n    this.update();\r\n  },\r\n\r\n  /* 年级 */\r\n  gradeClick: function (e) {\r\n    this.setdata({\r\n      grade: e.target.id\r\n    })\r\n    this.update();\r\n  },\r\n\r\n\r\n  /* 体脂 */\r\n  tall: function (e) {\r\n    if (e != undefined)\r\n      this.setdata({\r\n        tall: Number(e.detail.value)\r\n      })\r\n    var fat;\r\n    if (this.data.tall != 0 && this.data.tall != \"\" && this.data.weight != 0 && this.data.weight != \"\") {\r\n      fat = this.data.weight / (this.data.tall * this.data.tall / 10000)\r\n      if (this.data.sex == true)    //男生\r\n      {\r\n        if (fat >= 27.95)\r\n          this.setdata({\r\n            'score.fat': 60\r\n          })\r\n        if (23.95 <= fat < 27.95)\r\n          this.setdata({\r\n            'score.fat': 80\r\n          })\r\n        if (17.75 <= fat < 23.95)\r\n          this.setdata({\r\n            'score.fat': 100\r\n          })\r\n        if (fat < 17.75)\r\n          this.setdata({\r\n            'score.fat': 80\r\n          })\r\n      }\r\n      if (this.data.sex == false)    //女生\r\n      {\r\n        if (fat >= 27.95)\r\n          this.setdata({\r\n            'score.fat': 60\r\n          })\r\n        if (23.95 <= fat < 27.95)\r\n          this.setdata({\r\n            'score.fat': 80\r\n          })\r\n        if (17.15 <= fat < 23.95)\r\n          this.setdata({\r\n            'score.fat': 100\r\n          })\r\n        if (fat < 17.15)\r\n          this.setdata({\r\n            'score.fat': 80\r\n          })\r\n      }\r\n      this.calculate();\r\n    }\r\n    else {\r\n      this.setdata({\r\n        'score.fat': 0\r\n      })\r\n      this.calculate();\r\n    }\r\n  },\r\n  weight: function (e) {\r\n    if (e != undefined)\r\n      this.setdata({\r\n        weight: Number(e.detail.value)\r\n      })\r\n    var fat;\r\n    if (this.data.tall != 0 && this.data.tall != \"\" && this.data.weight != 0 && this.data.weight != \"\") {\r\n      fat = this.data.weight / (this.data.tall * this.data.tall / 10000)\r\n      if (this.data.sex == true)    //男生\r\n      {\r\n        if (fat >= 27.95)\r\n          this.setdata({\r\n            'score.fat': 60\r\n          })\r\n        else if (fat >= 23.95)\r\n          this.setdata({\r\n            'score.fat': 80\r\n          })\r\n        else if (fat >= 17.75)\r\n          this.setdata({\r\n            'score.fat': 100\r\n          })\r\n        else if (fat < 17.75)\r\n          this.setdata({\r\n            'score.fat': 80\r\n          })\r\n      }\r\n      if (this.data.sex == false)    //女生\r\n      {\r\n        if (fat >= 27.95)\r\n          this.setdata({\r\n            'score.fat': 60\r\n          })\r\n        else if (fat >= 23.95)\r\n          this.setdata({\r\n            'score.fat': 80\r\n          })\r\n        else if (fat >= 17.15)\r\n          this.setdata({\r\n            'score.fat': 100\r\n          })\r\n        else if (fat < 17.15)\r\n          this.setdata({\r\n            'score.fat': 80\r\n          })\r\n      }\r\n      this.calculate();\r\n    }\r\n    else {\r\n      this.setdata({\r\n        'score.fat': 0\r\n      })\r\n      this.calculate();\r\n    }\r\n\r\n\r\n  },\r\n\r\n  /* 肺活量 */\r\n  volume: function (e) {\r\n    if (e != undefined)\r\n      this.setdata({\r\n        volume: Number(e.detail.value)\r\n      })\r\n    var volume;\r\n\r\n    if (this.data.sex == true) {   //男生\r\n      if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n        if (this.data.volume >= 4300) {\r\n          if (this.data.volume >= 5040)\r\n            volume = 100\r\n          else if (this.data.volume >= 4800)\r\n            volume = Math.floor((this.data.volume - 4800) / 120) * 5 + 90\r\n          else {\r\n            volume = Math.floor((this.data.volume - 4300) / 250) * 5 + 80\r\n          }\r\n        }\r\n        else if (this.data.volume >= 3100) {\r\n          volume = Math.floor((this.data.volume - 3100) / 120) * 2 + 60\r\n        }\r\n        else if (this.data.volume >= 2300) {\r\n          volume = Math.floor((this.data.volume - 2300) / 160) * 10 + 10\r\n        }\r\n        else\r\n          volume = 0\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) { //大三、大四\r\n        if (this.data.volume >= 4400) {\r\n          if (this.data.volume >= 5140)\r\n            volume = 100\r\n          else if (this.data.volume >= 4900)\r\n            volume = Math.floor((this.data.volume - 4900) / 120) * 5 + 90\r\n          else {\r\n            volume = Math.floor((this.data.volume - 4400) / 250) * 5 + 80\r\n          }\r\n        }\r\n        else if (this.data.volume >= 3200) {\r\n          volume = Math.floor((this.data.volume - 3200) / 120) * 2 + 60\r\n        }\r\n        else if (this.data.volume >= 2350) {\r\n          volume = Math.floor((this.data.volume - 2350) / 170) * 10 + 10\r\n        }\r\n        else\r\n          volume = 0\r\n      }\r\n    }\r\n    if (this.data.sex == false) {    //女生\r\n      if (this.data.grade == 1 || this.data.grade == 2) {\r\n        if (this.data.volume >= 3000) {\r\n          if (this.data.volume >= 3400)\r\n            volume = 100\r\n          else if (this.data.volume >= 3300)\r\n            volume = Math.floor((this.data.volume - 3300) / 50) * 5 + 90\r\n          else {\r\n            volume = Math.floor((this.data.volume - 3000) / 150) * 5 + 80\r\n          }\r\n        }\r\n        else if (this.data.volume >= 2000) {\r\n          volume = Math.floor((this.data.volume - 2000) / 100) * 2 + 60\r\n        }\r\n        else if (this.data.volume >= 1800) {\r\n          volume = Math.floor((this.data.volume - 1800) / 40) * 10 + 10\r\n        }\r\n        else\r\n          volume = 0\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) {\r\n        if (this.data.volume >= 3050) {\r\n          if (this.data.volume >= 3450)\r\n            volume = 100\r\n          else if (this.data.volume >= 3350)\r\n            volume = Math.floor((this.data.volume - 3350) / 50) * 5 + 90\r\n          else {\r\n            volume = Math.floor((this.data.volume - 3050) / 150) * 5 + 80\r\n          }\r\n        }\r\n        else if (this.data.volume >= 2050) {\r\n          volume = Math.floor((this.data.volume - 2050) / 100) * 2 + 60\r\n        }\r\n        else if (this.data.volume >= 1800) {\r\n          volume = Math.floor((this.data.volume - 1850) / 40) * 10 + 10\r\n        }\r\n        else\r\n          volume = 0\r\n      }\r\n    }\r\n    this.setdata({\r\n      'score.volume': volume\r\n    })\r\n    this.calculate();\r\n  },\r\n  /* 跳远 */\r\n  jump: function (e) {\r\n    if (e != undefined)\r\n      this.setdata({\r\n        jump: Number(e.detail.value)\r\n      })\r\n    var jump;\r\n\r\n    if (this.data.sex == true) {   //男生\r\n      if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n        if (this.data.jump >= 248) {\r\n          if (this.data.jump >= 273)\r\n            jump = 100\r\n          else if (this.data.jump >= 268)\r\n            jump = 95\r\n          else if (this.data.jump >= 263)\r\n            jump = 90\r\n          else if (this.data.jump >= 256)\r\n            jump = 85\r\n          else if (this.data.jump >= 248)\r\n            jump = 80\r\n        }\r\n        else if (this.data.jump >= 208) {\r\n          jump = Math.floor((this.data.jump - 208) / 4) * 2 + 60\r\n        }\r\n        else if (this.data.jump >= 183) {\r\n          jump = Math.floor((this.data.jump - 183) / 5) * 10 + 10\r\n        }\r\n        else\r\n          jump = 0\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) { //大三、大四\r\n        if (this.data.jump >= 250) {\r\n          if (this.data.jump >= 275)\r\n            jump = 100\r\n          else if (this.data.jump >= 270)\r\n            jump = 95\r\n          else if (this.data.jump >= 265)\r\n            jump = 90\r\n          else if (this.data.jump >= 258)\r\n            jump = 85\r\n          else if (this.data.jump >= 250)\r\n            jump = 80\r\n        }\r\n        else if (this.data.jump >= 210) {\r\n          jump = Math.floor((this.data.jump - 210) / 4) * 2 + 60\r\n        }\r\n        else if (this.data.jump >= 185) {\r\n          jump = Math.floor((this.data.jump - 185) / 5) * 10 + 10\r\n        }\r\n        else\r\n          jump = 0\r\n      }\r\n    }\r\n    if (this.data.sex == false) {   //女生\r\n      if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n        if (this.data.jump >= 181) {\r\n          if (this.data.jump >= 207)\r\n            jump = 100\r\n          else if (this.data.jump >= 201)\r\n            jump = 95\r\n          else if (this.data.jump >= 195)\r\n            jump = 90\r\n          else if (this.data.jump >= 188)\r\n            jump = 85\r\n          else if (this.data.jump >= 181)\r\n            jump = 80\r\n        }\r\n        else if (this.data.jump >= 151) {\r\n          jump = Math.floor((this.data.jump - 151) / 3) * 2 + 60\r\n        }\r\n        else if (this.data.jump >= 126) {\r\n          jump = Math.floor((this.data.jump - 126) / 5) * 10 + 10\r\n        }\r\n        else\r\n          jump = 0\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) { //大三、大四\r\n        if (this.data.jump >= 182) {\r\n          if (this.data.jump >= 208)\r\n            jump = 100\r\n          else if (this.data.jump >= 202)\r\n            jump = 95\r\n          else if (this.data.jump >= 196)\r\n            jump = 90\r\n          else if (this.data.jump >= 189)\r\n            jump = 85\r\n          else if (this.data.jump >= 182)\r\n            jump = 80\r\n        }\r\n        else if (this.data.jump >= 152) {\r\n          jump = Math.floor((this.data.jump - 152) / 3) * 2 + 60\r\n        }\r\n        else if (this.data.jump >= 127) {\r\n          jump = Math.floor((this.data.jump - 127) / 5) * 10 + 10\r\n        }\r\n        else\r\n          jump = 0\r\n      }\r\n    }\r\n    this.setdata({\r\n      'score.jump': jump\r\n    })\r\n    this.calculate();\r\n  },\r\n  /* 体前屈 */\r\n  handlong: function (e) {\r\n    if (e != \"update\") {\r\n      this.setdata({\r\n        ishandlong: true,\r\n        handlong: Number(e.detail.value),\r\n      })\r\n      if (e.detail.value == \"\") {\r\n        this.setdata({\r\n          ishandlong: false\r\n        })\r\n      }\r\n    }\r\n\r\n    var handlong;\r\n    \r\n    if (this.data.sex == true) {   //男生\r\n      if (this.data.grade == 1 || this.data.grade == 2) { //大一、大二\r\n        if (this.data.handlong >= 17.7) {\r\n          if (this.data.handlong >= 24.9)\r\n            handlong = 100;\r\n          else if (this.data.handlong >= 17.7)\r\n            handlong = Math.floor(((this.data.handlong - 17.7) / 1.8)) * 5 + 80\r\n        }\r\n        else if (this.data.handlong >= 3.7) {\r\n          handlong = Math.floor(((this.data.handlong - 3.7) / 1.4)) * 2 + 60\r\n        }\r\n        else if (this.data.handlong >= (-1.3)) {\r\n          handlong = Math.floor(((this.data.handlong + 1.3) / 1)) * 10 + 10\r\n        }\r\n        else\r\n          handlong = 0\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) { //大三、大四\r\n        if (this.data.handlong >= 18.2) {\r\n          if (this.data.handlong >= 25.1)\r\n            handlong = 100;\r\n          else if (this.data.handlong >= 21.5)\r\n            handlong = Math.floor(((this.data.handlong - 21.5) / 1.8)) * 5 + 90\r\n          else if (this.data.handlong >= 18.2)\r\n            handlong = Math.floor(((this.data.handlong - 18.2) / 1.7)) * 5 + 80\r\n        }\r\n        else if (this.data.handlong >= 4.2) {\r\n          handlong = Math.floor(((this.data.handlong - 4.2) / 1.4)) * 2 + 60\r\n        }\r\n        else if (this.data.handlong >= (-0.8)) {\r\n          handlong = Math.floor(((this.data.handlong + 0.8) / 1)) * 10 + 10\r\n        }\r\n        else\r\n          handlong = 0\r\n      }\r\n    }\r\n    if (this.data.sex == false) {   //女生\r\n      if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n        if (this.data.handlong >= 19) {\r\n          if (this.data.handlong >= 25.8)\r\n            handlong = 100;\r\n          else if (this.data.handlong >= 22.2)\r\n            handlong = Math.floor(((this.data.handlong - 22.2) / 1.8)) * 5 + 90\r\n          else if (this.data.handlong >= 19)\r\n            handlong = Math.floor(((this.data.handlong - 19) / 1.6)) * 5 + 80\r\n        }\r\n        else if (this.data.handlong >= 6) {\r\n          handlong = Math.floor(((this.data.handlong - 6) / 1.3)) * 2 + 60\r\n        }\r\n        else if (this.data.handlong >= 2) {\r\n          handlong = Math.floor(((this.data.handlong - 2) / 0.8)) * 10 + 10\r\n        }\r\n        else\r\n          handlong = 0\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) { //大三、大四\r\n        if (this.data.handlong >= 19.5) {\r\n          if (this.data.handlong >= 26.3)\r\n            handlong = 100;\r\n          else if (this.data.handlong >= 24.4)\r\n            handlong = 95\r\n          else if (this.data.handlong >= 22.4)\r\n            handlong = 90\r\n          else if (this.data.handlong >= 21.0)\r\n            handlong = 85\r\n          else if (this.data.handlong >= 19.5)\r\n            handlong = 80\r\n        }\r\n        else if (this.data.handlong >= 6.5) {\r\n          handlong = Math.floor(((this.data.handlong - 6.5) / 1.3)) * 2 + 60\r\n        }\r\n        else if (this.data.handlong >= 2.5) {\r\n          handlong = Math.floor(((this.data.handlong - 2.5) / 0.8)) * 10 + 10\r\n        }\r\n        else\r\n          handlong = 0\r\n      }\r\n    }\r\n\r\n    if (!this.data.ishandlong)\r\n      handlong = 0\r\n\r\n    this.setdata({\r\n      'score.handlong': handlong\r\n    })\r\n    this.calculate();\r\n\r\n  },\r\n  /* 仰卧起坐 */\r\n  sit_up: function (e) {\r\n    if (e != undefined)\r\n      this.setdata({\r\n        sit_up: Number(e.detail.value)\r\n      })\r\n    var sit_up;\r\n\r\n    if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n      if (this.data.sit_up >= 46) {\r\n        if (this.data.sit_up >= 56)\r\n          sit_up = 100;\r\n        else if (this.data.sit_up >= 52)\r\n          sit_up = Math.floor(((this.data.sit_up - 52) / 2)) * 5 + 90\r\n        else if (this.data.sit_up >= 46)\r\n          sit_up = Math.floor(((this.data.sit_up - 46) / 3)) * 5 + 80\r\n      }\r\n      else if (this.data.sit_up >= 26) {\r\n        sit_up = Math.floor(((this.data.sit_up - 26) / 2)) * 2 + 60\r\n      }\r\n      else if (this.data.sit_up >= 16) {\r\n        sit_up = Math.floor(((this.data.sit_up - 16) / 2)) * 10 + 10\r\n      }\r\n      else\r\n        sit_up = 0\r\n    }\r\n    if (this.data.grade == 3 || this.data.grade == 4) { //大三、大四\r\n      if (this.data.sit_up >= 47) {\r\n        if (this.data.sit_up >= 57)\r\n          sit_up = 100;\r\n        else if (this.data.sit_up >= 53)\r\n          sit_up = Math.floor(((this.data.sit_up - 53) / 2)) * 5 + 90\r\n        else if (this.data.sit_up >= 47)\r\n          sit_up = Math.floor(((this.data.sit_up - 47) / 3)) * 5 + 80\r\n      }\r\n      else if (this.data.sit_up >= 27) {\r\n        sit_up = Math.floor(((this.data.sit_up - 27) / 2)) * 2 + 60\r\n      }\r\n      else if (this.data.sit_up >= 17) {\r\n        sit_up = Math.floor(((this.data.sit_up - 17) / 2)) * 10 + 10\r\n      }\r\n      else\r\n        sit_up = 0\r\n    }\r\n    this.setdata({\r\n      'score.sit_up': sit_up\r\n    })\r\n    this.setdata({\r\n      total: (this.data.score.fat * 0.15 + this.data.score.volume * 0.15 + this.data.score.jump * 0.1 + this.data.score.handlong * 0.1 + sit_up * 0.1 + this.data.score.shortrun * 0.2 + this.data.score.longrun * 0.2).toFixed(2)\r\n    })\r\n  },\r\n  /* 引体向上 */\r\n  pull_up: function (e) {\r\n    if (e != undefined)\r\n      this.setdata({\r\n        pull_up: Number(e.detail.value)\r\n      })\r\n    var pull_up;\r\n\r\n    if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n      if (this.data.pull_up >= 19)\r\n        pull_up = 100\r\n      else if (this.data.pull_up >= 15) {\r\n        pull_up = (this.data.pull_up - 15) * 5 + 80\r\n      }\r\n      else if (this.data.pull_up >= 10) {\r\n        pull_up = (this.data.pull_up - 10) * 4 + 60\r\n      }\r\n      else if (this.data.pull_up >= 5) {\r\n        pull_up = (this.data.pull_up - 5) * 10 + 10\r\n      }\r\n      else\r\n        pull_up = 0\r\n    }\r\n    if (this.data.grade == 3 || this.data.grade == 4) {   //大三、大四\r\n      if (this.data.pull_up >= 20)\r\n        pull_up = 100\r\n      else if (this.data.pull_up >= 16) {\r\n        pull_up = (this.data.pull_up - 16) * 5 + 80\r\n      }\r\n      else if (this.data.pull_up >= 11) {\r\n        pull_up = (this.data.pull_up - 11) * 4 + 60\r\n      }\r\n      else if (this.data.pull_up >= 6) {\r\n        pull_up = (this.data.pull_up - 6) * 10 + 10\r\n      }\r\n      else\r\n        pull_up = 0\r\n    }\r\n    this.setdata({\r\n      'score.pull_up': pull_up\r\n    })\r\n    this.setdata({\r\n      total: (this.data.score.fat * 0.15 + this.data.score.volume * 0.15 + this.data.score.jump * 0.1 + this.data.score.handlong * 0.1 + pull_up * 0.1 + this.data.score.shortrun * 0.2 + this.data.score.longrun * 0.2).toFixed(2)\r\n    })\r\n  },\r\n  /* 短跑50m */\r\n  shortrun: function (e) {\r\n    if (e != undefined) \r\n      this.setdata({\r\n        shortrun: Number(e.detail.value)\r\n      })\r\n\r\n    var shortrun;\r\n\r\n    if (this.data.sex == true) {   //男生\r\n      if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n        if (this.data.shortrun > 10.1 || this.data.shortrun == 0)\r\n          shortrun = 0\r\n        else if (this.data.shortrun >= 9.1) {\r\n          shortrun = 60 - Math.ceil(((this.data.shortrun - 9.1) / 0.2)) * 10\r\n        }\r\n        else if (this.data.shortrun >= 7.1) {\r\n          shortrun = 80 - Math.ceil(((this.data.shortrun - 7.1) / 0.2)) * 2\r\n        }\r\n        else if (this.data.shortrun >= 6.7) {\r\n          shortrun = 100 - Math.ceil(((this.data.shortrun - 6.7) / 0.1)) * 5\r\n        }\r\n        else\r\n          shortrun = 100\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) { //大三、大四\r\n        if (this.data.shortrun > 10)\r\n          shortrun = 0\r\n        else if (this.data.shortrun >= 9) {\r\n          shortrun = 60 - Math.ceil(((this.data.shortrun - 9) / 0.2)) * 10\r\n        }\r\n        else if (this.data.shortrun >= 7.0) {\r\n          shortrun = 80 - Math.ceil(((this.data.shortrun - 7) / 0.2)) * 2\r\n        }\r\n        else if (this.data.shortrun >= 6.6) {\r\n          shortrun = 100 - Math.ceil(((this.data.shortrun - 6.6) / 0.1)) * 5\r\n        }\r\n        else\r\n          shortrun = 100\r\n      }\r\n    }\r\n    if (this.data.sex == false) {   //女生\r\n      if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n        if (this.data.shortrun > 11.3)\r\n          shortrun = 0\r\n        else if (this.data.shortrun >= 10.3) {\r\n          shortrun = 60 - Math.ceil(((this.data.shortrun - 10.3) / 0.2)) * 10\r\n        }\r\n        else if (this.data.shortrun >= 8.3) {\r\n          shortrun = 80 - Math.ceil(((this.data.shortrun - 8.3) / 0.2)) * 2\r\n        }\r\n        else if (this.data.shortrun >= 7.7) {\r\n          shortrun = 100 - Math.ceil(((this.data.shortrun - 7.7) / 0.3)) * 5\r\n        }\r\n        else if (this.data.shortrun >= 7.5) {\r\n          shortrun = 100 - Math.ceil(((this.data.shortrun - 7.5) / 0.1)) * 5\r\n        }\r\n        else\r\n          shortrun = 100\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) { //大三、大四\r\n        if (this.data.shortrun > 11.2)\r\n          shortrun = 0\r\n        else if (this.data.shortrun >= 10.2) {\r\n          shortrun = 60 - Math.ceil(((this.data.shortrun - 10.2) / 0.2)) * 10\r\n        }\r\n        else if (this.data.shortrun >= 8.2) {\r\n          shortrun = 80 - Math.ceil(((this.data.shortrun - 8.2) / 0.2)) * 2\r\n        }\r\n        else if (this.data.shortrun >= 7.6) {\r\n          shortrun = 100 - Math.ceil(((this.data.shortrun - 7.6) / 0.3)) * 5\r\n        }\r\n        else if (this.data.shortrun >= 7.4) {\r\n          shortrun = 100 - Math.ceil(((this.data.shortrun - 7.4) / 0.1)) * 5\r\n        }\r\n        else\r\n          shortrun = 100\r\n      }\r\n    }\r\n\r\n    if(e != undefined && e.detail.value == 0)\r\n      shortrun = 0;\r\n\r\n    this.setdata({\r\n      'score.shortrun': shortrun\r\n    })\r\n    // if (this.data.shortrun != 0)\r\n      this.calculate();\r\n  },\r\n  /* 长跑800、1000 */\r\n  min: function (e) {\r\n    if (e != undefined)\r\n      this.setdata({\r\n        min: e.detail.value,\r\n        longrun: Number(e.detail.value) * 60 + Number(this.data.second)\r\n      })\r\n    this.longrun();\r\n\r\n  },\r\n  second: function (e) {\r\n    if (e != undefined)\r\n      this.setdata({\r\n        second: e.detail.value,\r\n        longrun: Number(this.data.min) * 60 + Number(e.detail.value)\r\n      })\r\n    this.longrun();\r\n\r\n  },\r\n  longrun: function (e) {\r\n    var longrun;\r\n    if (this.data.sex == true) {   //男生\r\n      if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n        if (this.data.longrun > 372)\r\n          longrun = 0\r\n        else if (this.data.longrun >= 272) {\r\n          longrun = 60 - Math.ceil(((this.data.longrun - 272) / 20)) * 10\r\n        }\r\n        else if (this.data.longrun >= 222) {\r\n          longrun = 80 - Math.ceil(((this.data.longrun - 222) / 5)) * 2\r\n        }\r\n        else if (this.data.longrun >= 207) {\r\n          longrun = 90 - Math.ceil(((this.data.longrun - 207) / 7)) * 5\r\n        }\r\n        else if (this.data.longrun >= 197) {\r\n          longrun = 100 - Math.ceil(((this.data.longrun - 197) / 5)) * 5\r\n        }\r\n        else\r\n          longrun = 100\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) {   //大三、大四\r\n        if (this.data.longrun > 370)\r\n          longrun = 0\r\n        else if (this.data.longrun >= 270) {\r\n          longrun = 60 - Math.ceil(((this.data.longrun - 270) / 20)) * 10\r\n        }\r\n        else if (this.data.longrun >= 220) {\r\n          longrun = 80 - Math.ceil(((this.data.longrun - 220) / 5)) * 2\r\n        }\r\n        else if (this.data.longrun >= 205) {\r\n          longrun = 90 - Math.ceil(((this.data.longrun - 205) / 7)) * 5\r\n        }\r\n        else if (this.data.longrun >= 195) {\r\n          longrun = 100 - Math.ceil(((this.data.longrun - 195) / 5)) * 5\r\n        }\r\n        else\r\n          longrun = 100\r\n      }\r\n    }\r\n    if (this.data.sex == false) {   //女生\r\n      if (this.data.grade == 1 || this.data.grade == 2) {   //大一、大二\r\n        if (this.data.longrun > 324)\r\n          longrun = 0\r\n        else if (this.data.longrun >= 274) {\r\n          longrun = 60 - Math.ceil(((this.data.longrun - 274) / 10)) * 10\r\n        }\r\n        else if (this.data.longrun >= 224) {\r\n          longrun = 80 - Math.ceil(((this.data.longrun - 224) / 5)) * 2\r\n        }\r\n        else if (this.data.longrun >= 210) {\r\n          longrun = 90 - Math.ceil(((this.data.longrun - 210) / 7)) * 5\r\n        }\r\n        else if (this.data.longrun >= 198) {\r\n          longrun = 100 - Math.ceil(((this.data.longrun - 198) / 6)) * 5\r\n        }\r\n        else\r\n          longrun = 100\r\n      }\r\n      if (this.data.grade == 3 || this.data.grade == 4) {   //大三、大四\r\n        if (this.data.longrun > 322)\r\n          longrun = 0\r\n        else if (this.data.longrun >= 272) {\r\n          longrun = 60 - Math.ceil(((this.data.longrun - 272) / 10)) * 10\r\n        }\r\n        else if (this.data.longrun >= 222) {\r\n          longrun = 80 - Math.ceil(((this.data.longrun - 222) / 5)) * 2\r\n        }\r\n        else if (this.data.longrun >= 208) {\r\n          longrun = 90 - Math.ceil(((this.data.longrun - 208) / 7)) * 5\r\n        }\r\n        else if (this.data.longrun >= 196) {\r\n          longrun = 100 - Math.ceil(((this.data.longrun - 196) / 6)) * 5\r\n        }\r\n        else\r\n          longrun = 100\r\n      }\r\n    }\r\n    if(this.data.longrun == 0)\r\n      longrun = 0;\r\n      \r\n    this.setdata({\r\n      'score.longrun': longrun\r\n    })\r\n    // if (this.data.longrun != 0)\r\n      this.calculate();\r\n  },\r\n\r\n  /* 计算统计 */\r\n  calculate: function (e) {\r\n    if (this.data.sex == true)\r\n      this.setdata({\r\n        total: (this.data.score.fat * 0.15 + this.data.score.volume * 0.15 + this.data.score.jump * 0.1 + this.data.score.handlong * 0.1 + this.data.score.pull_up * 0.1 + this.data.score.shortrun * 0.2 + this.data.score.longrun * 0.2).toFixed(2)\r\n      })\r\n    if (this.data.sex == false)\r\n      this.setdata({\r\n        total: (this.data.score.fat * 0.15 + this.data.score.volume * 0.15 + this.data.score.jump * 0.1 + this.data.score.handlong * 0.1 + this.data.score.sit_up * 0.1 + this.data.score.shortrun * 0.2 + this.data.score.longrun * 0.2).toFixed(2)\r\n      })\r\n  },\r\n\r\n  /* 更新数据 */\r\n  update: function (e) {\r\n    this.tall();\r\n    this.weight();\r\n    this.volume();\r\n    this.jump();\r\n    if (wx.getStorageSync(\"state\")==\"\")\r\n      this.handlong(\"update\");\r\n    this.sit_up();\r\n    this.pull_up();\r\n    if (this.data.shortrun != 0)\r\n      this.shortrun();\r\n    if (this.data.longrun != 0)\r\n      this.longrun();\r\n\r\n    this.calculate();\r\n  }\r\n\r\n})\r\n\n\n\n  }\n      window.exports = runCode;\n  \n      "],"names":[],"sourceRoot":""}